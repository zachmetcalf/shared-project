////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// imgui_template.cpp
//
// Zach Metcalf
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "imgui_app/imgui_app.h"
#include "imgui.h"

namespace Template
{
	class App : public ImGuiExt::App
	{
	public:
		virtual const char* GetName() override;
		virtual void Init() override;
		virtual void Update() override;
		virtual void Shutdown() override;
	};

	Shared::SharedPtr<ImGuiExt::App> CreateApp();
}

ImGuiExt::CreateAppCallbackFn ImGuiExt::gCreateAppCallback = Template::CreateApp;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const char* Template::App::GetName()
{
	return "Template";
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Template::App::Init()
{
	ImGuiIO& io = ImGui::GetIO();
	io.ConfigFlags |= ImGuiConfigFlags_NavEnableKeyboard;
	io.ConfigFlags |= ImGuiConfigFlags_DockingEnable;
	io.IniFilename = nullptr;
	io.LogFilename = nullptr;
	ImGui::StyleColorsDark();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Template::App::Update()
{
    ImGui::Begin("Template");
    ImGui::Text("Hello World");
    ImGui::End();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Template::App::Shutdown()
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Shared::SharedPtr<ImGuiExt::App> Template::CreateApp()
{
	return Shared::SharedPtr<ImGuiExt::App>(new App());
}
